<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Command Line Configuration - PostMaster</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Command Line Configuration";
    var mkdocs_page_input_path = "Configuration/CommandLineConfiguration.md";
    var mkdocs_page_url = "/Configuration/CommandLineConfiguration/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> PostMaster</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Installation</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Installation/Docker/">Docker</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Installation/Ubuntu1404/">Ubuntu 14.04</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Installation/WindowsServer2012R2/">Windows Server 2012 R2</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Configuration</span></li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Command Line Configuration</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#before-you-start">Before You Start</a></li>
                
            
                <li class="toctree-l3"><a href="#command-line-commands">Command Line Commands</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ConfigurationsPage/">Configurations Page</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>API</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../API/ApiUsage/">API Usage</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Developer Guide</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Development/DevEnvironment/">Dev Environment</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Development/Contributing/">Contributing</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Release Notes</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../ChangeLog/">Change Log</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">PostMaster</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Configuration &raquo;</li>
        
      
    
    <li>Command Line Configuration</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/stackfocus/postmaster" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h3 id="before-you-start">Before You Start</h3>
<ol>
<li>
<p>Logged into the server hosting PostMaster as root or as an administrator, enter the Python virtual environment (if necessary, replace the path with your install location):</p>
<pre><code>Linux:
source /opt/postmaster/env/bin/activate
Windows:
C:\PostMaster\env\Scripts\activate.ps1
</code></pre>
</li>
<li>
<p>Once you've entered the Python virtual environment, navigate to the location of manage.py (replace /opt/postmaster/git with your install location):</p>
<pre><code>cd /opt/postmaster/git
</code></pre>
</li>
<li>
<p>You can now run command line configurations with the following:</p>
<pre><code>python manage.py [command]
</code></pre>
</li>
<li>
<p>Some of the commands modify files and may end up changing the ownership of the files on Linux/Unix operating systems.
Use the following commands to restore the proper permissions on the PostMaster files:</p>
<pre><code>chown -R www-data:www-data /opt/postmaster
chmod -R 550 /opt/postmaster
</code></pre>
</li>
</ol>
<h3 id="command-line-commands">Command Line Commands</h3>
<p><strong>version</strong> returns the version of PostMaster that is installed.</p>
<p><strong>setlogfile</strong> sets the location of the logfile. The default is <code>/opt/postmaster/logs/postmaster.log</code>.</p>
<p><strong>setdburi</strong> sets the MySQL database URI that PostMaster uses to connect to the MySQL server used by your mail server.</p>
<p><strong>upgradedb</strong> upgrades the existing database to the latest schema version and adds the default configuration items if they are missing.</p>
<p><strong>generatekey</strong> replaces the secret key in config.py which is used by Flask (the Python framework used for PostMaster) for cryptographic functions.
After the initial installation, this command should not be run again as all current logins would become invalid upon the next restart of the PostMaster.</p>
<p><strong>setkey</strong> replaces the secret key with one provided in config.py which is used by Flask (the Python framework used for PostMaster) for cryptographic functions.</p>
<p><strong>unlockadmin username</strong> unlocks a locked out administrator (replace username with the actual value).</p>
<p><strong>resetadminpassword username password</strong> resets an administrator's password to the desired value (replace user and password with the actual values)</p>
<p><strong>runserver -d -h 0.0.0.0</strong> runs PostMaster in debug mode on port 5000. This is useful if you are having issues as it bypasses the webserver
and displays failing errors in HTML.</p>
<p><strong>db [command]</strong> runs advanced database migration commands.
It is recommended to use the wrapper commands listed above instead, however, in rare and advanced circumstances, these sets of commands may be necessary.
For more information, visit the <a href="https://alembic.readthedocs.org/en/latest/api/commands.html">Alembic API documentation</a>.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ConfigurationsPage/" class="btn btn-neutral float-right" title="Configurations Page">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../Installation/WindowsServer2012R2/" class="btn btn-neutral" title="Windows Server 2012 R2"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Documentation generated on 2016-09-04 15:43:28.484150<p>
  </div>
  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/stackfocus/postmaster" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../../Installation/WindowsServer2012R2/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../ConfigurationsPage/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
